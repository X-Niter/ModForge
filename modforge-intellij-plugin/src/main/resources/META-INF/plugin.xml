<?xml version="1.0" encoding="UTF-8"?>
<idea-plugin>
    <id>com.modforge.intellij.plugin</id>
    <name>ModForge</name>
    <vendor email="support@modforge.com" url="https://www.modforge.com">ModForge</vendor>

    <description><![CDATA[
    <h1>ModForge - AI-Powered Minecraft Mod Development</h1>
    <p>ModForge is an advanced autonomous AI-powered Minecraft mod development platform that 
    democratizes mod creation through intelligent technologies and collaborative tools.</p>
    
    <h2>Key Features:</h2>
    <ul>
        <li><b>Multi-mod loader support:</b> Forge, Fabric, Quilt, Architectury</li>
        <li><b>AI-driven development:</b> Generate code and fix errors with AI assistance</li>
        <li><b>Autonomous continuous development:</b> Let the AI work on your mod while you're away</li>
        <li><b>Pattern recognition:</b> Reduces API usage and costs by learning from previous requests</li>
        <li><b>GitHub integration:</b> Automatically push changes to GitHub</li>
    </ul>
    
    <h2>How to use:</h2>
    <ol>
        <li>Install the plugin</li>
        <li>Create a ModForge account at <a href="https://www.modforge.com">modforge.com</a></li>
        <li>Login to your account in the plugin</li>
        <li>Start creating Minecraft mods with AI assistance</li>
    </ol>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Settings -->
        <applicationService
                serviceImplementation="com.modforge.intellij.plugin.settings.ModForgeSettings"/>
        <applicationConfigurable
                parentId="tools"
                instance="com.modforge.intellij.plugin.settings.ModForgeSettingsConfigurable"
                id="com.modforge.intellij.plugin.settings.ModForgeSettingsConfigurable"
                displayName="ModForge"/>
                
        <!-- Services -->
        <applicationService
                serviceImplementation="com.modforge.intellij.plugin.auth.ModAuthenticationManager"/>
        <projectService
                serviceImplementation="com.modforge.intellij.plugin.services.ContinuousDevelopmentService"/>
        <projectService
                serviceImplementation="com.modforge.intellij.plugin.services.AutonomousCodeGenerationService"/>
        <projectService
                serviceImplementation="com.modforge.intellij.plugin.ai.PatternRecognitionService"/>
                
        <!-- Tool Windows -->
        <toolWindow id="ModForge"
                    anchor="right"
                    factoryClass="com.modforge.intellij.plugin.ui.ModForgeToolWindowFactory"
                    icon="AllIcons.General.Modified"/>
    </extensions>

    <actions>
        <!-- Authentication Actions -->
        <group id="ModForge.Auth" 
               text="ModForge Authentication" 
               description="ModForge authentication actions"
               popup="true"
               icon="AllIcons.General.User">
            <action id="ModForge.Login" 
                    class="com.modforge.intellij.plugin.actions.LoginAction" 
                    text="Login to ModForge" 
                    description="Login to ModForge"/>
            <action id="ModForge.Logout" 
                    class="com.modforge.intellij.plugin.actions.LogoutAction" 
                    text="Logout from ModForge" 
                    description="Logout from ModForge"/>
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </group>
        
        <!-- AI Actions -->
        <group id="ModForge.AI" 
               text="ModForge AI" 
               description="ModForge AI actions"
               popup="true"
               icon="AllIcons.General.Modified">
            <action id="ModForge.GenerateCode" 
                    class="com.modforge.intellij.plugin.actions.GenerateCodeAction" 
                    text="Generate Code with AI" 
                    description="Generate code with AI"/>
            <action id="ModForge.FixErrors" 
                    class="com.modforge.intellij.plugin.actions.FixErrorsAction" 
                    text="Fix Errors with AI" 
                    description="Fix errors with AI"/>
            <separator/>
            <action id="ModForge.ToggleContinuousDevelopment" 
                    class="com.modforge.intellij.plugin.actions.ToggleContinuousDevelopmentAction" 
                    text="Toggle Continuous Development" 
                    description="Toggle continuous development for the current project"/>
            <action id="ModForge.TogglePatternRecognition" 
                    class="com.modforge.intellij.plugin.actions.TogglePatternRecognitionAction" 
                    text="Toggle Pattern Recognition" 
                    description="Toggle pattern recognition to reduce API usage"/>
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </group>
        
        <!-- Editor Actions -->
        <action id="ModForge.GenerateCodeEditor" 
                class="com.modforge.intellij.plugin.actions.GenerateCodeAction" 
                text="Generate Code with ModForge AI" 
                description="Generate code with ModForge AI">
            <add-to-group group-id="GenerateGroup" anchor="last"/>
        </action>
        <action id="ModForge.FixErrorsEditor" 
                class="com.modforge.intellij.plugin.actions.FixErrorsAction" 
                text="Fix Errors with ModForge AI" 
                description="Fix errors with ModForge AI">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>